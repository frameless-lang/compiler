data State = First, Second(Number), Third(Number);

reducer : \States, Number -> State
reducer = \First, action -> Second[ action ]
reducer = \Second[ value ], action -> Third[ value + action ]

#[webcomponent]
main : \{}, {} -> Output
main = \_, _ ->
	$div
		let state = First;

		match stateState
			case \First ->
				$button{
					onclick = \_ -> state = reducer(state, 1);
				}
					"first"
			case \Second[ value ] ->
				$button{
					onclick = \_ -> state = reducer(state, 2);
				}
					"second: ${value}"
			case \Third[ value ] ->
				"third: ${value}"
