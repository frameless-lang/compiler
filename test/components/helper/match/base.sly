state = \ -> {
	init = First
	reducer = \First, action -> Second( action )
	reducer = \Second( value ), action -> Third( value + action )
}

main = \props ->
	$div
		let [stateState, stateDispatch] <- model(state());
		match stateState
			case \First ->
				$$button{
					onclick = \_ -> stateDispatch(1)
				}
					"first"
			case \Second( value ) ->
				$$button{
					onclick = \_ -> stateDispatch(2)
				}
					"second: ${value}"
			case \Third( value ) ->
				"third: ${value}"
