data State = First, Second(States, Integer), Third(Integer, Integer), Fourht(Integer);

store = {
	init = First
	reducer : \ State, Integer -> State
	reducer = \First, action -> Second( Third( action + 2), action )
	reducer = \Second( Third( nestedValue ), outerValue ), action -> Fourth( nestedValue + outerValue + action)
}

#[webcomponent]
main : \{}, {} -> Output
main = \_, _ ->
	$div
		let [stateState, stateDispatch] <- model(store);
		match stateState
			case \First ->
				$button{
					onclick = \_ -> stateDispatch(1)
				}
					"first"
			case \Second( Third( nestedValue ), siblingValue) ->
				$button{
					onclick = \_ -> stateDispatch(2)
				}
					"second nestedValue: ${nestedValue} siblingValue: ${siblingValue}"
			case \Fourth(value) ->
				"third: ${value}"
