data State = First, Second(States, Number), Third(Number, Number), Fourht(Number);

reducer : \State, Number -> State
reducer = \First, action -> Second(Third, action)
reducer = \Second(Third, outerValue), action -> Fourth(outerValue + action)

main : \{}, {} -> Output
main = \_, _ ->
	$div
		let action: Action;
		let state = action:scan(reducer, First);

		match stateState
			case \First ->
				$button{
					onclick = \_ -> action = 1;
				}
					"first"
			case \Second(Third, value) ->
				$button{
					onclick = \_ -> action = 2;
				}
					"second: ${value}"
			case \Fourth(value) ->
				"third: ${value}"
