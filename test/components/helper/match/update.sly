data States = First, Second(States, Integer);

store = {
	init = First( 1 )
	reducer = \ First( value ), action -> Second( value + action )
	reducer = \ Second( value ), action -> Second( value + action + action)
}

main = \props, _ ->
	$div
		let [stateState, stateDispatch] <- model(store);
		match stateState
			case \First( value ) ->
				$button{
					onclick = \_ -> stateDispatch(1)
				}
					"first: ${value} ${props.foo}"
			case \Second( value ) ->
				$button{
					onclick = \_ -> stateDispatch(3)
				}
					"second: ${value} ${props.foo}"
		$span
