data State = First(Number), Second(Number);

reducer : \ State, Number -> State
reducer = \ First( value ), action -> Second( value + action )
reducer = \ Second( value ), action -> Second( value + action + action)

main = \props, _ ->
	$div
		let state = action:scan(reducer, First( 1 );

		match stateState
			case \First( value ) ->
				$button{
					onclick = \_ -> state = reducer(1);
				}
					"first: ${value} ${props.foo}"
			case \Second( value ) ->
				$button{
					onclick = \_ -> state = reducer(3);
				}
					"second: ${value} ${props.foo}"
		$span
