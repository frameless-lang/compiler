import \vendor\strictly\prelude\src\index.js (fetchText)

store = \id ->
	let result <- fetchText("\api\${id}");
	{
		init = match result
			case \Pending -> Pending
			case \Done[Ok[response]] -> Result[response]
			case \Done[error@Error[_]] -> error
		reducer = \state, action -> state
	}

main = \props ->
	if props.load then
		let [stateState, _] <- model(store(props.id));
		match stateState
			case \Pending ->
				"Loading..."
			case \Done[Ok[ content] ] ->
				"${content}"
			case \Done[Error[ _ ]] ->
				"could not load"
	else
		"not to be loaded"
