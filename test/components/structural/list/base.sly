import \vendor\strictly\prelude\src\index.js (zipWithIndex)

state = \ -> {
	init = [0, 1, 3]
	reducer = \state, multiply -> [ value, value * 2 | let value <- state, value != 0]
}

main = \props ->
	let [mainState, mainDispatch] <- model(state());
	$button{
		onclick = \_ -> mainDispatch(2)
	}
	each let [value, index] <- zipWithIndex(mainState)
		$div
			"${index}: ${value}"
	else
		"empty"
