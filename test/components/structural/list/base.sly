reducer  : \Number[], Number -> Number[] 
reducer = \state, multiply -> [ value, value * 2 | let value <- state;, value != 0]

main : \{}, {} -> Output
main = \_, _ ->
	let action: Action;
	let state = action:scan(reducer, [0, 1, 3]);

	$button{
		onclick = \_ -> action = 2;
	}
	let [value, index] <- mainState.zip(0..);
	$div
		"${index}: ${value}"