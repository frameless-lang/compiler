type State = { x: Ingeger, deep: { y: Integer }};

store = {
	init = { x = 1, deep = { y = 0 } }
	reducer : \State, Integer -> State
	reducer = \state, x -> { x = state.x + x | state}
}

main : \{}, {} -> View
main = \_, _ ->
	let [{x, deep = { y = yValue }}, mainDispatch] <- model(store);
	$button{
		onclick = \_ -> mainDispatch(2)
	}
	$div
		"${x} ${yValue}"
